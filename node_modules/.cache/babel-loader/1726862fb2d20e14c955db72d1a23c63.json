{"ast":null,"code":"import _slicedToArray from\"C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import{useState,useContext,useEffect}from'react';import{Context}from'../../../ContextStore';import{Button,Modal,Form,OverlayTrigger,Tooltip,Col,Spinner}from'react-bootstrap';import{Link}from'react-router-dom';import{RiMessage3Fill}from'react-icons/ri';import{GrEdit}from'react-icons/gr';import{MdArchive}from'react-icons/md';import{BsFillPersonFill}from'react-icons/bs';import{MdEmail,MdPhoneAndroid}from'react-icons/md';import{FaSellsy}from'react-icons/fa';import{archiveSell}from'../../../services/productData';import{createChatRoom}from'../../../services/messagesData';import{checkIfWalletIsConnected2}from'../../../services/userData';import{getApproval,setApproval,startSale,closeSale}from'../../../services/productData';import'./Aside.css';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Text=styled.p(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    color : #E7E6E6;\\n\"])));var H4=styled.h4(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    color : #E7E6E6;\\n\"])));function Aside(_ref){var params=_ref.params,history=_ref.history;var owner=params.owner;var onSale=params.onSale;var givenPrice=params.price;var contractAddress=params.contractAddress;var ipfsHash=params.ipfsHash;var tokenId=params.tokenId;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),approved=_useState4[0],setApproved=_useState4[1];var _useState5=useState({address:\"\",isAuth:false,isOwner:false}),_useState6=_slicedToArray(_useState5,2),userData=_useState6[0],setUserData=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){console.log(\"params inside useeffect:\",params);if(params.length==0)return;checkIfWalletIsConnected2().then(function(res){console.log(\"res: \",res);if(!params){setLoading(true);}else{setUserData({address:res,isAuth:res!=null&&res!=\"\",isOwner:res==owner,onSale:onSale});setPrice(givenPrice);if(res)setLoading(false);}if(res!=\"\"){console.log(\"here address: \",res);getApproval(contractAddress,ipfsHash,res).then(function(res2){console.log(\"approved: \",res2);setApproved(res2);}).catch(function(err){return console.log(err);});}}).catch(function(err){return console.log(err);});console.log(\"aside se bhai2:\");},[params]);var handlePriceChange=function handlePriceChange(event){event.preventDefault();setPrice(event.target.value);};var handleStartSale=function handleStartSale(event){event.preventDefault();console.log(\"helllo\");startSale(contractAddress,tokenId,price).then(function(res){console.log(\"post startSale: \",res);}).catch(function(err){return console.log(err);});};var handleCloseSale=function handleCloseSale(event){event.preventDefault();console.log(\"helllo\");closeSale(contractAddress,tokenId).then(function(res){console.log(\"post closeSale: \",res);}).catch(function(err){return console.log(err);});};var handlePermChange=function handlePermChange(event){event.preventDefault();console.log(\"helllo:\",approved);setApproval(contractAddress,ipfsHash,!approved).then(function(res){console.log(\"post setApproved: \",res);}).catch(function(err){return console.log(err);});};console.log(\"userData: \",userData);var handleTodoButton=function handleTodoButton(){};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spinner,{animation:\"border\"}):/*#__PURE__*/_jsx(\"aside\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-seller\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"priceLabel\",className:\"col-lg-12\",children:[userData.isAuth&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(H4,{style:{color:\"#E7E6E6\"},children:\" Permission \"}),approved==null&&/*#__PURE__*/_jsx(Text,{children:\" loading permissions ...\"}),approved==true&&/*#__PURE__*/_jsx(Text,{children:\" Volaverse has permission to manage this asset for you. This is necessary if you want to buy / sell it via volaverse. Click here if you no longer want volaverse to have this permission \"}),approved==false&&/*#__PURE__*/_jsx(Text,{children:\" Volaverse needs permission to manage this asset for you. This is necessary if you want to buy / sell it via volaverse. Click here to grant volaverse this permission \"}),approved==true&&/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"col-lg-10\",id:\"btnContact\",onClick:handlePermChange,children:\"Disallow\"}),approved==false&&/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"col-lg-10\",id:\"btnContact\",onClick:handlePermChange,children:\"Allow\"})]}),userData.onSale&&/*#__PURE__*/_jsx(H4,{id:\"product-price-heading\",children:\" On Sale \"}),!userData.onSale&&/*#__PURE__*/_jsx(H4,{id:\"product-price-heading\",children:\" Not on Sale \"}),userData.onSale&&/*#__PURE__*/_jsxs(H4,{id:\"price-heading\",children:[price,\" weth\"]})]}),userData.isAuth?/*#__PURE__*/_jsxs(_Fragment,{children:[!userData.isOwner&&userData.onSale&&/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"col-lg-10\",id:\"btnContact\",onClick:handleTodoButton,children:\"Buy\"}),userData.isOwner&&userData.onSale&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"col-lg-10\",id:\"btnContact\",onClick:handleCloseSale,children:\"Remove Sale\"}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"col-lg-10\",id:\"btnContact\",onClick:handleTodoButton,children:\"Update Sale\"})]}),userData.isOwner&&!userData.onSale&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"form\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsxs(Text,{children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:price,onChange:handlePriceChange,required:true}),\" weth \"]})})}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"col-lg-10\",id:\"btnContact\",onClick:handleStartSale,children:\"Start Sale\"})]})]}):/*#__PURE__*/_jsxs(\"p\",{id:\"guest-msg\",children:[/*#__PURE__*/_jsx(Link,{to:\"/auth/login\",children:\"Sign In\"}),\" now to buy the NFT\"]})]})})});}export default Aside;","map":{"version":3,"sources":["C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/src/components/Details/Aside/Aside.js"],"names":["useState","useContext","useEffect","Context","Button","Modal","Form","OverlayTrigger","Tooltip","Col","Spinner","Link","RiMessage3Fill","GrEdit","MdArchive","BsFillPersonFill","MdEmail","MdPhoneAndroid","FaSellsy","archiveSell","createChatRoom","checkIfWalletIsConnected2","getApproval","setApproval","startSale","closeSale","styled","Text","p","H4","h4","Aside","params","history","owner","onSale","givenPrice","price","contractAddress","ipfsHash","tokenId","setPrice","approved","setApproved","address","isAuth","isOwner","userData","setUserData","loading","setLoading","console","log","length","then","res","res2","catch","err","handlePriceChange","event","preventDefault","target","value","handleStartSale","handleCloseSale","handlePermChange","handleTodoButton","color"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../../../ContextStore';\r\nimport { Button, Modal, Form, OverlayTrigger, Tooltip, Col, Spinner} from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { RiMessage3Fill } from 'react-icons/ri';\r\nimport { GrEdit } from 'react-icons/gr';\r\nimport { MdArchive } from 'react-icons/md'\r\nimport { BsFillPersonFill } from 'react-icons/bs';\r\nimport { MdEmail, MdPhoneAndroid } from 'react-icons/md'\r\nimport { FaSellsy } from 'react-icons/fa'\r\nimport { archiveSell } from '../../../services/productData';\r\nimport { createChatRoom } from '../../../services/messagesData';\r\nimport {checkIfWalletIsConnected2} from '../../../services/userData'\r\nimport { getApproval, setApproval, startSale, closeSale } from '../../../services/productData';\r\nimport './Aside.css';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst Text = styled.p`\r\n    color : #E7E6E6;\r\n`;\r\n\r\nconst H4 = styled.h4`\r\n    color : #E7E6E6;\r\n`\r\n\r\nfunction Aside({ params, history }) {\r\n    let owner = params.owner;\r\n    let onSale = params.onSale;\r\n    let givenPrice = params.price;   \r\n    let contractAddress = params.contractAddress;\r\n    let ipfsHash = params.ipfsHash;\r\n    let tokenId = params.tokenId;\r\n\r\n    const [price, setPrice] = useState(0);\r\n    const [approved, setApproved] = useState(null);\r\n    const [userData, setUserData] = useState({\r\n        address: \"\",\r\n        isAuth: false,\r\n        isOwner: false,\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        console.log(\"params inside useeffect:\", params);\r\n        if (params.length == 0) return;\r\n        checkIfWalletIsConnected2()\r\n            .then(res => {\r\n                console.log(\"res: \", res);\r\n                if (!params) {\r\n                    setLoading(true);\r\n                }\r\n                else {\r\n                    setUserData({\r\n                        address: res,\r\n                        isAuth: res != null && res != \"\",\r\n                        isOwner: res == owner,\r\n                        onSale: onSale\r\n                    });\r\n                    setPrice(givenPrice);\r\n                    if (res) setLoading(false);\r\n                }\r\n                if (res != \"\") {\r\n                    console.log(\"here address: \", res);\r\n                    getApproval(contractAddress, ipfsHash, res)\r\n                    .then(res2 => {\r\n                        console.log(\"approved: \", res2);\r\n                        setApproved(res2);\r\n                    })\r\n                    .catch(err => console.log(err));\r\n                }\r\n\r\n            })\r\n            .catch(err => console.log(err));\r\n        console.log(\"aside se bhai2:\");\r\n\r\n    }, [params]);\r\n\r\n    const handlePriceChange = (event) => {\r\n        event.preventDefault();\r\n        setPrice(event.target.value);\r\n    }\r\n\r\n    const handleStartSale = (event) => {\r\n        event.preventDefault();\r\n        console.log(\"helllo\");\r\n        startSale(contractAddress, tokenId, price)\r\n        .then(res => {\r\n            console.log(\"post startSale: \", res);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    const handleCloseSale = (event) => {\r\n        event.preventDefault();\r\n        console.log(\"helllo\");\r\n        closeSale(contractAddress, tokenId)\r\n        .then(res => {\r\n            console.log(\"post closeSale: \", res);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n\r\n    const handlePermChange = (event) => {\r\n        event.preventDefault();\r\n        console.log(\"helllo:\",approved);\r\n        setApproval(contractAddress, ipfsHash, !approved)\r\n        .then(res => {\r\n            console.log(\"post setApproved: \", res);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    console.log(\"userData: \", userData);\r\n\r\n    const handleTodoButton = () => {};\r\n\r\n    return (\r\n        <div>\r\n        {loading ? (<Spinner animation=\"border\" />) :\r\n        (<aside>\r\n            <div className=\"product-details-seller\">\r\n                <div id=\"priceLabel\" className=\"col-lg-12\">\r\n                    {userData.isAuth && <div> \r\n                        <H4 style={{color:\"#E7E6E6\"}}> Permission </H4>\r\n                        {approved == null && <Text> loading permissions ...</Text>}\r\n                        {approved == true && <Text> Volaverse has permission to manage this asset for you. This is necessary if you want to buy / sell it via volaverse. Click here if you no longer want volaverse to have this permission </Text>}\r\n                        {approved == false && <Text> Volaverse needs permission to manage this asset for you. This is necessary if you want to buy / sell it via volaverse. Click here to grant volaverse this permission </Text>}\r\n                        \r\n                        {approved == true && <Button variant=\"dark\" className=\"col-lg-10\" id=\"btnContact\" onClick={handlePermChange}>\r\n                                Disallow\r\n                            </Button>\r\n                        }\r\n                            \r\n                        {approved == false && <Button variant=\"dark\" className=\"col-lg-10\" id=\"btnContact\" onClick={handlePermChange}>\r\n                                Allow\r\n                            </Button>\r\n                        }                      \r\n                        </div>\r\n                    }\r\n                    {userData.onSale && <H4 id=\"product-price-heading\"> On Sale </H4>}\r\n                    {!userData.onSale && <H4 id=\"product-price-heading\"> Not on Sale </H4>}\r\n                    {/* {userData.isOwner && userData.onSale &&\r\n                        <>\r\n                            <OverlayTrigger placement=\"top\" overlay={<Tooltip>Edit the selling</Tooltip>}>\r\n                                <span id=\"edit-icon\">\r\n                                    <Link to={`/categories/land/${params.tokenId}/edit`}><GrEdit /></Link>\r\n                                </span>\r\n                            </OverlayTrigger>\r\n                        </>\r\n                    } */}\r\n                    {userData.onSale && <H4 id=\"price-heading\">{price} weth</H4>}\r\n                </div>\r\n                {userData.isAuth ? (<>\r\n                    {!userData.isOwner && userData.onSale &&\r\n                        <Button variant=\"dark\" className=\"col-lg-10\" id=\"btnContact\" onClick={handleTodoButton}>\r\n                            Buy\r\n                        </Button>\r\n                    }\r\n                    {userData.isOwner && userData.onSale &&\r\n                        <div>\r\n                        <Button variant=\"dark\" className=\"col-lg-10\" id=\"btnContact\" onClick={handleCloseSale}>\r\n                            Remove Sale\r\n                        </Button>\r\n                        <Button variant=\"dark\" className=\"col-lg-10\" id=\"btnContact\" onClick={handleTodoButton}>\r\n                            Update Sale\r\n                        </Button>\r\n                        </div>\r\n                    }\r\n                    {userData.isOwner && !userData.onSale &&\r\n                        <div>\r\n                        <form className=\"col-lg-12\">\r\n                        <label>\r\n                            {/* {alertShow &&\r\n                                <Alert variant=\"danger\" onClose={() => setAlertShow(false)} dismissible>\r\n                                    <p>\r\n                                        {error}\r\n                                    </p>\r\n                                </Alert>\r\n                            } */}\r\n                            <Text> <input type=\"text\" name=\"price\" value={price} onChange={handlePriceChange} required /> weth </Text>\r\n                        </label>\r\n                        </form>\r\n                        <Button variant=\"dark\" className=\"col-lg-10\" id=\"btnContact\" onClick={handleStartSale}>\r\n                            Start Sale\r\n                        </Button>\r\n                        </div>\r\n                    }\r\n                </>) : (\r\n                        <p id=\"guest-msg\"><Link to=\"/auth/login\">Sign In</Link> now to buy the NFT</p>\r\n                    )}\r\n            </div>\r\n            {/* <Modal show={showMsg} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Message</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Group>\r\n                            <Form.Control as=\"textarea\" name=\"textarea\" onChange={handleMsgChange} rows={3} />\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"dark\" onClick={onMsgSent}>Sent</Button>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal> */}\r\n\r\n            {/* <Modal show={showArchive} onHide={handleCloseArchive}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Are you sure you want to archive this item?</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <p>\r\n                        By clicking <strong>Archive</strong>, this sell will change\r\n                    it's status to <strong>Archived</strong>,\r\n                    which means that no one but you will be able see it.\r\n                    You may want to change the status to <strong>Actived</strong> if you have\r\n                    sold the item or you don't want to sell it anymore.\r\n                    </p>\r\n\r\n                    Don't worry, you can unarchive it at any time from Profile - Sells!\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleCloseArchive}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"success\" onClick={handleSubmit}>\r\n                        Archive\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal> */}\r\n        </aside>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Aside;"]},"metadata":{},"sourceType":"module"}