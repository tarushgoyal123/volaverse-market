{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tarus\\\\Documents\\\\Marketplace-ReactJS-Project\\\\client\\\\src\\\\Pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect } from 'react';\nimport { Context } from '../ContextStore';\nimport { connect, getAddress } from '../services/userData';\nimport { Form, Button, Spinner, Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport SimpleSider from '../components/Siders/SimpleSider'; // import useMetaMask from '../hooks/metamask';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login({\n  history\n}) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [alertShow, setAlertShow] = useState(false);\n  const [error, setError] = useState(null);\n  const [address, setAddress] = useState(\"\"); // const { connect, disconnect, isActive, account, shouldDisable } = useMetaMask()\n\n  const {\n    setUserData\n  } = useContext(Context);\n\n  const handleSubmitLogin = e => {\n    e.preventDefault();\n    setLoading(true); // loginUser(user)\n\n    connect().then(res => {\n      // if (!res.error) {\n      // setUserData(res.user)\n      var ad = getAddress();\n      console.log(\"hello yo\" + ad);\n      setAddress(ad);\n      console.log(\"hello yo\" + address);\n      setUserData(ad);\n      history.push('/'); // } else {\n      //     console.log(\"FFFFFFFFFFFF4\");\n      //     setLoading(false);\n      //     setError(res.error.message);\n      //     setAlertShow(true);\n      // }\n    }).catch(err => console.error('error from login: ', err));\n  }; // useEffect(() => {\n  //     console.log(\"hello yo\" + address);\n  //     setUserData(address);\n  // }, [address]);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"auth-heading\",\n        children: \" Sign In \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Form, {\n        className: \"col-lg-6\",\n        onSubmit: handleSubmitLogin,\n        children: [\" \", alertShow && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          onClose: () => setAlertShow(false),\n          dismissible: true,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", error, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), \" \", loading ? /*#__PURE__*/_jsxDEV(Button, {\n          className: \"col-lg-12 btnAuth\",\n          variant: \"dark\",\n          disabled: true,\n          children: [\"Please wait... \", /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"dark\",\n          className: \"col-lg-12 btnAuth\",\n          type: \"submit\",\n          children: \"Connect To Metamask \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 56\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), \" \"]\n  }, void 0, true);\n}\n\n_s(Login, \"B7zhheBhueB/xllwlOZkASp7L9I=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/src/Pages/Login.js"],"names":["useState","useContext","useEffect","Context","connect","getAddress","Form","Button","Spinner","Alert","Link","SimpleSider","Login","history","loading","setLoading","alertShow","setAlertShow","error","setError","address","setAddress","setUserData","handleSubmitLogin","e","preventDefault","then","res","ad","console","log","push","catch","err"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../ContextStore';\r\nimport { connect, getAddress } from '../services/userData'\r\nimport { Form, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport SimpleSider from '../components/Siders/SimpleSider';\r\n// import useMetaMask from '../hooks/metamask';\r\n\r\nfunction Login({ history }) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [alertShow, setAlertShow] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [address, setAddress] = useState(\"\");\r\n    // const { connect, disconnect, isActive, account, shouldDisable } = useMetaMask()\r\n    const { setUserData } = useContext(Context)\r\n\r\n    const handleSubmitLogin = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        // loginUser(user)\r\n        connect().then(res => {\r\n            // if (!res.error) {\r\n            // setUserData(res.user)\r\n            var ad = getAddress();\r\n            console.log(\"hello yo\" + ad);\r\n            setAddress(ad);\r\n            console.log(\"hello yo\" + address);\r\n            setUserData(ad);\r\n            history.push('/')\r\n                // } else {\r\n                //     console.log(\"FFFFFFFFFFFF4\");\r\n                //     setLoading(false);\r\n                //     setError(res.error.message);\r\n                //     setAlertShow(true);\r\n                // }\r\n        }).catch(err => console.error('error from login: ', err))\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     console.log(\"hello yo\" + address);\r\n    //     setUserData(address);\r\n    // }, [address]);\r\n\r\n    return ( <\r\n        >\r\n        <\r\n        div className = \"container auth-form\" >\r\n        <\r\n        h1 className = \"auth-heading\" > Sign In < /h1> <\r\n        Form className = \"col-lg-6\"\r\n        onSubmit = { handleSubmitLogin } > {\r\n            alertShow &&\r\n            <\r\n            Alert variant = \"danger\"\r\n            onClose = {\r\n                () => setAlertShow(false) }\r\n            dismissible >\r\n            <\r\n            p > { error } <\r\n            /p> <\r\n            /Alert>\r\n        } {\r\n            loading ?\r\n                <\r\n                Button className = \"col-lg-12 btnAuth\"\r\n            variant = \"dark\"\r\n            disabled >\r\n                Please wait... < Spinner animation = \"border\" / >\r\n                <\r\n                /Button>:\r\n                <\r\n                Button variant = \"dark\"\r\n            className = \"col-lg-12 btnAuth\"\r\n            type = \"submit\" >\r\n                Connect To Metamask <\r\n                /Button>\r\n        } <\r\n        /Form> <\r\n        /div> <\r\n        />\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}