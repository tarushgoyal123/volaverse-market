{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tarus\\\\Documents\\\\Marketplace-ReactJS-Project\\\\client\\\\src\\\\Pages\\\\Categories.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport CategoriesNav from '../components/Categories/CategoriesNav';\nimport ProductCard from '../components/ProductCard/ProductCard';\nimport { Col, Spinner, Dropdown } from 'react-bootstrap';\nimport { getLands } from '../services/productData';\nimport { BiSortDown, BiSort, BiDownArrowAlt, BiUpArrowAlt, BiSortUp } from 'react-icons/bi';\nimport '../components/Siders/SearchSider.css';\nimport '../components/Categories/Categories.css';\nimport '../components/ProductCard/ProductCard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Categories({\n  match\n}) {\n  _s();\n\n  let currentCategory = match.params.category;\n  const [products, setProduct] = useState([]); // const [page, setPage] = useState(1);\n  // const [query, setQuery] = useState(\"\");\n\n  const [loading, setLoading] = useState(true);\n  const [sort, setSort] = useState('lowerPrice');\n  useEffect(() => {\n    // setPage(1);\n    setLoading(true); // setQuery(\"\")\n\n    getLands().then(res => {\n      console.log(\"result: \" + res);\n      console.log(\"result: \" + typeof res);\n      setProduct(res);\n      setLoading(false); // setQuery(\"\");\n    }).catch(err => console.log(err));\n  }, [currentCategory]); // useEffect(() => {\n  //     setPage(1);\n  //     setLoading(true);\n  //     getLands(2, currentCategory, query)\n  //         .then(res => {\n  //             if (query === \"\") {\n  //                 setProduct(products => [...products, ...res.products]);\n  //             } else {\n  //                 setProduct(res.products)\n  //             }\n  //             setLoading(false);\n  //             setPage(page => page + 1);\n  //         })\n  //         .catch(err => console.log(err));\n  //     }, [query, currentCategory])\n\n  const handleSearch = e => {\n    e.preventDefault(); // setQuery(e.target.value)\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CategoriesNav, {\n      baseUrl: \"/categories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n        id: \"dropdown-sort\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n          variant: \"light\",\n          id: \"dropdown-basic\",\n          children: [\"Sort \", /*#__PURE__*/_jsxDEV(BiSort, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n          children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => {\n              setSort('lowerPrice');\n            },\n            children: [\"Price \", /*#__PURE__*/_jsxDEV(BiSortDown, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 88\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => {\n              setSort('biggerPrice');\n            },\n            children: [\"Price \", /*#__PURE__*/_jsxDEV(BiSortUp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 89\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), !loading ? /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n        dataLength: products.length // next={() => {\n        //         getLands()\n        //             .then(res => {\n        //                 setProduct([...products, ...res]);\n        //             })\n        // }}\n        ,\n        hasMore: () => {\n          return false;\n        },\n        className: \"row\",\n        children: products // .sort((a, b) => {\n        //     // if (sort === \"oldest\") {\n        //     //     return a.addedAt.localeCompare(b.addedAt)\n        //     // }\n        //     // if (sort === \"newest\") {\n        //     //     return b.addedAt.localeCompare(a.addedAt)\n        //     // }\n        //     if (sort === \"lowerPrice\") {\n        //         return b[2] - a[2]\n        //     }\n        //     if (sort === \"biggerPrice\") {\n        //         return a[2] - b[2]\n        //     }\n        // })\n        .map(x => /*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          md: 6,\n          lg: 3,\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            params: x\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 37\n          }, this)\n        }, x._id.toString(), false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Categories, \"e55TZ1KeA/B2JXS6iwvW3Ss5vhU=\");\n\n_c = Categories;\nexport default Categories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Categories\");","map":{"version":3,"sources":["C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/src/Pages/Categories.js"],"names":["useEffect","useState","InfiniteScroll","CategoriesNav","ProductCard","Col","Spinner","Dropdown","getLands","BiSortDown","BiSort","BiDownArrowAlt","BiUpArrowAlt","BiSortUp","Categories","match","currentCategory","params","category","products","setProduct","loading","setLoading","sort","setSort","then","res","console","log","catch","err","handleSearch","e","preventDefault","length","map","x","_id","toString"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\nimport CategoriesNav from '../components/Categories/CategoriesNav'\r\nimport ProductCard from '../components/ProductCard/ProductCard';\r\nimport { Col, Spinner, Dropdown } from 'react-bootstrap';\r\nimport { getLands } from '../services/productData';\r\nimport { BiSortDown, BiSort, BiDownArrowAlt, BiUpArrowAlt, BiSortUp } from 'react-icons/bi'\r\nimport '../components/Siders/SearchSider.css'\r\nimport '../components/Categories/Categories.css';\r\nimport '../components/ProductCard/ProductCard.css';\r\n\r\nfunction Categories({ match }) {\r\n    let currentCategory = match.params.category;\r\n    const [products, setProduct] = useState([])\r\n        // const [page, setPage] = useState(1);\r\n        // const [query, setQuery] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [sort, setSort] = useState('lowerPrice');\r\n\r\n    useEffect(() => {\r\n        // setPage(1);\r\n        setLoading(true);\r\n        // setQuery(\"\")\r\n        getLands()\r\n            .then(res => {\r\n                console.log(\"result: \" + res);\r\n                console.log(\"result: \" + typeof(res));\r\n                setProduct(res);\r\n                setLoading(false);\r\n                // setQuery(\"\");\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [currentCategory])\r\n\r\n    // useEffect(() => {\r\n    //     setPage(1);\r\n    //     setLoading(true);\r\n    //     getLands(2, currentCategory, query)\r\n    //         .then(res => {\r\n    //             if (query === \"\") {\r\n    //                 setProduct(products => [...products, ...res.products]);\r\n    //             } else {\r\n    //                 setProduct(res.products)\r\n    //             }\r\n    //             setLoading(false);\r\n    //             setPage(page => page + 1);\r\n    //         })\r\n    //         .catch(err => console.log(err));\r\n    //     }, [query, currentCategory])\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault()\r\n        // setQuery(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* <div id=\"sider\">\r\n                <input className=\"col-lg-6\" type=\"text\" placeholder=\"Search...\" name=\"search\" value={query} onChange={handleSearch} />\r\n            </div> */}\r\n            <CategoriesNav baseUrl=\"/categories\" />\r\n            <div className=\"container\">\r\n                <Dropdown id=\"dropdown-sort\">\r\n                    <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\">\r\n                        Sort <BiSort />\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                        {/* <Dropdown.Item onClick={() => { setSort('oldest') }}>Oldest <BiDownArrowAlt /></Dropdown.Item> */}\r\n                        {/* <Dropdown.Item onClick={() => { setSort('newest') }}>Newest <BiUpArrowAlt /></Dropdown.Item> */}\r\n                        <Dropdown.Item onClick={() => { setSort('lowerPrice') }}>Price <BiSortDown /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('biggerPrice') }}>Price <BiSortUp /> </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n                {!loading ?\r\n                    <InfiniteScroll\r\n                        dataLength={products.length}\r\n                        // next={() => {\r\n                        //         getLands()\r\n                        //             .then(res => {\r\n                        //                 setProduct([...products, ...res]);\r\n                        //             })\r\n                        // }}\r\n                        hasMore={() => {\r\n                         return false;\r\n                        }}\r\n                        className=\"row\">\r\n                        {products\r\n                            // .sort((a, b) => {\r\n                            //     // if (sort === \"oldest\") {\r\n                            //     //     return a.addedAt.localeCompare(b.addedAt)\r\n                            //     // }\r\n                            //     // if (sort === \"newest\") {\r\n                            //     //     return b.addedAt.localeCompare(a.addedAt)\r\n                            //     // }\r\n                            //     if (sort === \"lowerPrice\") {\r\n                            //         return b[2] - a[2]\r\n                            //     }\r\n                            //     if (sort === \"biggerPrice\") {\r\n                            //         return a[2] - b[2]\r\n                            //     }\r\n                            // })\r\n                            .map(x =>\r\n                                <Col xs={12} md={6} lg={3} key={x._id.toString()}>\r\n                                    <ProductCard params={x} />\r\n                                </Col>\r\n                            )}\r\n                    </InfiniteScroll>\r\n                    : <div className=\"spinner\">\r\n                        <Spinner animation=\"border\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Categories;"]},"metadata":{},"sourceType":"module"}