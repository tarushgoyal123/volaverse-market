{"ast":null,"code":"import _slicedToArray from\"C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import InfiniteScroll from'react-infinite-scroll-component';// import CategoriesNav from '../components/Categories/CategoriesNav'\nimport ProductCard from'../components/ProductCard/ProductCard';import{Col,Spinner,Dropdown}from'react-bootstrap';import{getMarketNfts}from'../services/productData';import{BiSortDown,BiSort,BiDownArrowAlt,BiUpArrowAlt,BiSortUp}from'react-icons/bi';import'../components/Siders/SearchSider.css';import'../components/Categories/Categories.css';import'../components/ProductCard/ProductCard.css';import CenterHeading from'../components/CenterHeading/CenterHeading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Categories(_ref){var match=_ref.match;var currentCategory=match.params.category;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState('lowerPrice'),_useState6=_slicedToArray(_useState5,2),sort=_useState6[0],setSort=_useState6[1];useEffect(function(){setLoading(true);getMarketNfts(currentCategory).then(function(res){console.log(\"result: \"+res);console.log(\"result: \"+typeof res);setProduct(res);setLoading(false);}).catch(function(err){return console.log(err);});},[currentCategory]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(CenterHeading,{text:currentCategory+\"Products\"}),!loading?/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:products.length,hasMore:function hasMore(){return false;},className:\"row\",children:products// .sort((a, b) => {\n//     // if (sort === \"oldest\") {\n//     //     return a.addedAt.localeCompare(b.addedAt)\n//     // }\n//     // if (sort === \"newest\") {\n//     //     return b.addedAt.localeCompare(a.addedAt)\n//     // }\n//     if (sort === \"lowerPrice\") {\n//         return b[2] - a[2]\n//     }\n//     if (sort === \"biggerPrice\") {\n//         return a[2] - b[2]\n//     }\n// })\n.map(function(x){return/*#__PURE__*/_jsx(ProductCard,{params:x});})}):/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})})]})});}export default Categories;","map":{"version":3,"sources":["C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/src/Pages/Categories.js"],"names":["useEffect","useState","InfiniteScroll","ProductCard","Col","Spinner","Dropdown","getMarketNfts","BiSortDown","BiSort","BiDownArrowAlt","BiUpArrowAlt","BiSortUp","CenterHeading","Categories","match","currentCategory","params","category","products","setProduct","loading","setLoading","sort","setSort","then","res","console","log","catch","err","length","map","x"],"mappings":"8IAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA;AACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA,OAASC,GAAT,CAAcC,OAAd,CAAuBC,QAAvB,KAAuC,iBAAvC,CACA,OAASC,aAAT,KAA8B,yBAA9B,CACA,OAASC,UAAT,CAAqBC,MAArB,CAA6BC,cAA7B,CAA6CC,YAA7C,CAA2DC,QAA3D,KAA2E,gBAA3E,CACA,MAAO,sCAAP,CACA,MAAO,yCAAP,CACA,MAAO,2CAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,2CAA1B,C,6IAGA,QAASC,CAAAA,UAAT,MAA+B,IAATC,CAAAA,KAAS,MAATA,KAAS,CAC3B,GAAIC,CAAAA,eAAe,CAAGD,KAAK,CAACE,MAAN,CAAaC,QAAnC,CAD2B,cAEIjB,QAAQ,CAAC,EAAD,CAFZ,wCAEpBkB,QAFoB,eAEVC,UAFU,8BAGGnB,QAAQ,CAAC,IAAD,CAHX,yCAGpBoB,OAHoB,eAGXC,UAHW,8BAIHrB,QAAQ,CAAC,YAAD,CAJL,yCAIpBsB,IAJoB,eAIdC,OAJc,eAM3BxB,SAAS,CAAC,UAAM,CACZsB,UAAU,CAAC,IAAD,CAAV,CACAf,aAAa,CAACS,eAAD,CAAb,CACKS,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAY,WAAaF,GAAzB,EACAC,OAAO,CAACC,GAAR,CAAY,WAAa,MAAOF,CAAAA,GAAhC,EACAN,UAAU,CAACM,GAAD,CAAV,CACAJ,UAAU,CAAC,KAAD,CAAV,CACH,CANL,EAOKO,KAPL,CAOW,SAAAC,GAAG,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAJ,EAPd,EAQH,CAVQ,CAUN,CAACd,eAAD,CAVM,CAAT,CAYA,mBACI,sCAEI,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,aAAD,EAAe,IAAI,CAAEA,eAAe,CAAG,UAAvC,EADJ,CAaK,CAACK,OAAD,cACG,KAAC,cAAD,EACI,UAAU,CAAEF,QAAQ,CAACY,MADzB,CAEI,OAAO,CAAE,kBAAM,CACd,MAAO,MAAP,CACA,CAJL,CAKI,SAAS,CAAC,KALd,UAMKZ,QACG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdK,CAeJa,GAfJ,CAeQ,SAAAC,CAAC,qBACE,KAAC,WAAD,EAAa,MAAM,CAAEA,CAArB,EADF,EAfT,CANL,EADH,cA0BK,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,EADF,EAvCV,GAFJ,EADJ,CAiDH,CAED,cAAenB,CAAAA,UAAf","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\n// import CategoriesNav from '../components/Categories/CategoriesNav'\r\nimport ProductCard from '../components/ProductCard/ProductCard';\r\nimport { Col, Spinner, Dropdown } from 'react-bootstrap';\r\nimport { getMarketNfts } from '../services/productData';\r\nimport { BiSortDown, BiSort, BiDownArrowAlt, BiUpArrowAlt, BiSortUp } from 'react-icons/bi'\r\nimport '../components/Siders/SearchSider.css'\r\nimport '../components/Categories/Categories.css';\r\nimport '../components/ProductCard/ProductCard.css';\r\nimport CenterHeading from '../components/CenterHeading/CenterHeading';\r\n\r\n\r\nfunction Categories({ match }) {\r\n    let currentCategory = match.params.category;\r\n    const [products, setProduct] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [sort, setSort] = useState('lowerPrice');\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getMarketNfts(currentCategory)\r\n            .then(res => {\r\n                console.log(\"result: \" + res);\r\n                console.log(\"result: \" + typeof(res));\r\n                setProduct(res);\r\n                setLoading(false);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [currentCategory])\r\n\r\n    return (\r\n        <>\r\n            {/* <CategoriesNav baseUrl=\"/market\" /> */}\r\n            <div className=\"container\">\r\n                <CenterHeading text={currentCategory + \"Products\"} />\r\n                {/* <Dropdown id=\"dropdown-sort\">\r\n                    <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\">\r\n                        Sort <BiSort />\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={() => { setSort('oldest') }}>Oldest <BiDownArrowAlt /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('newest') }}>Newest <BiUpArrowAlt /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('lowerPrice') }}>Price <BiSortDown /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('biggerPrice') }}>Price <BiSortUp /> </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown> */}\r\n                {!loading ?\r\n                    <InfiniteScroll\r\n                        dataLength={products.length}\r\n                        hasMore={() => {\r\n                         return false;\r\n                        }}\r\n                        className=\"row\">\r\n                        {products\r\n                            // .sort((a, b) => {\r\n                            //     // if (sort === \"oldest\") {\r\n                            //     //     return a.addedAt.localeCompare(b.addedAt)\r\n                            //     // }\r\n                            //     // if (sort === \"newest\") {\r\n                            //     //     return b.addedAt.localeCompare(a.addedAt)\r\n                            //     // }\r\n                            //     if (sort === \"lowerPrice\") {\r\n                            //         return b[2] - a[2]\r\n                            //     }\r\n                            //     if (sort === \"biggerPrice\") {\r\n                            //         return a[2] - b[2]\r\n                            //     }\r\n                            // })\r\n                            .map(x =>\r\n                                    <ProductCard params={x} />\r\n                            )}\r\n                    </InfiniteScroll>\r\n                    : <div className=\"spinner\">\r\n                        <Spinner animation=\"border\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Categories;"]},"metadata":{},"sourceType":"module"}