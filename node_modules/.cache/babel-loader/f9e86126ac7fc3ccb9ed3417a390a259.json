{"ast":null,"code":"import _slicedToArray from\"C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import InfiniteScroll from'react-infinite-scroll-component';import CategoriesNav from'../components/Categories/CategoriesNav';import ProductCard from'../components/ProductCard/ProductCard';import{Col,Spinner,Dropdown}from'react-bootstrap';import{getUserNfts}from'../services/productData';import{BiSortDown,BiSort,BiDownArrowAlt,BiUpArrowAlt,BiSortUp}from'react-icons/bi';import'../components/Siders/SearchSider.css';import'../components/Categories/Categories.css';import'../components/ProductCard/ProductCard.css';import CenterHeading from'../components/CenterHeading/CenterHeading';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Owned(_ref){var match=_ref.match;var currentCategory=match.params.category;var tempid=match.params.publicAddress;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState('lowerPrice'),_useState6=_slicedToArray(_useState5,2),sort=_useState6[0],setSort=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),userData=_useState8[0],setUserData=_useState8[1];useEffect(function(){setLoading(true);if(!tempid)return;getUserNfts(tempid,currentCategory).then(function(res){// console.log(\"params: \", match.params);\nsetProduct(res);setLoading(false);// setQuery(\"\");\n}).catch(function(err){return console.log(err);});},[currentCategory,tempid]);useEffect(function(){console.log(\"id:\",tempid);setUserData(tempid);},[tempid]);var handleSearch=function handleSearch(e){e.preventDefault();};// console.log(\"userData:\", userData);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CenterHeading,{text:\"My Nfts\"}),/*#__PURE__*/_jsx(CategoriesNav,{baseUrl:\"/owned/\"+userData}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:!loading?/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:products.length// next={() => {\n//         getLands()\n//             .then(res => {\n//                 setProduct([...products, ...res]);\n//             })\n// }}\n,hasMore:function hasMore(){return false;},className:\"row\",children:products// .sort((a, b) => {\n//     // if (sort === \"oldest\") {\n//     //     return a.addedAt.localeCompare(b.addedAt)\n//     // }\n//     // if (sort === \"newest\") {\n//     //     return b.addedAt.localeCompare(a.addedAt)\n//     // }\n//     if (sort === \"lowerPrice\") {\n//         return b[2] - a[2]\n//     }\n//     if (sort === \"biggerPrice\") {\n//         return a[2] - b[2]\n//     }\n// })\n.map(function(x){return/*#__PURE__*/_jsx(ProductCard,{params:x});})}):/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})})})]});}export default Owned;","map":{"version":3,"sources":["C:/Users/tarus/Documents/Marketplace-ReactJS-Project/client/src/Pages/Owned.js"],"names":["useEffect","useState","InfiniteScroll","CategoriesNav","ProductCard","Col","Spinner","Dropdown","getUserNfts","BiSortDown","BiSort","BiDownArrowAlt","BiUpArrowAlt","BiSortUp","CenterHeading","Owned","match","currentCategory","params","category","tempid","publicAddress","products","setProduct","loading","setLoading","sort","setSort","userData","setUserData","then","res","catch","err","console","log","handleSearch","e","preventDefault","length","map","x"],"mappings":"8IAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,wCAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA,OAASC,GAAT,CAAcC,OAAd,CAAuBC,QAAvB,KAAuC,iBAAvC,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,UAAT,CAAqBC,MAArB,CAA6BC,cAA7B,CAA6CC,YAA7C,CAA2DC,QAA3D,KAA2E,gBAA3E,CACA,MAAO,sCAAP,CACA,MAAO,yCAAP,CACA,MAAO,2CAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,2CAA1B,C,6IAEA,QAASC,CAAAA,KAAT,MAA0B,IAATC,CAAAA,KAAS,MAATA,KAAS,CACtB,GAAIC,CAAAA,eAAe,CAAGD,KAAK,CAACE,MAAN,CAAaC,QAAnC,CACA,GAAIC,CAAAA,MAAM,CAAGJ,KAAK,CAACE,MAAN,CAAaG,aAA1B,CAFsB,cAGSpB,QAAQ,CAAC,EAAD,CAHjB,wCAGfqB,QAHe,eAGLC,UAHK,8BAIQtB,QAAQ,CAAC,IAAD,CAJhB,yCAIfuB,OAJe,eAINC,UAJM,8BAKExB,QAAQ,CAAC,YAAD,CALV,yCAKfyB,IALe,eAKTC,OALS,8BAMU1B,QAAQ,CAAC,IAAD,CANlB,yCAMf2B,QANe,eAMLC,WANK,eAQtB7B,SAAS,CAAC,UAAM,CACZyB,UAAU,CAAC,IAAD,CAAV,CAEA,GAAI,CAACL,MAAL,CAAa,OACbZ,WAAW,CAACY,MAAD,CAASH,eAAT,CAAX,CACKa,IADL,CACU,SAAAC,GAAG,CAAI,CACT;AACAR,UAAU,CAACQ,GAAD,CAAV,CACAN,UAAU,CAAC,KAAD,CAAV,CACA;AACH,CANL,EAOKO,KAPL,CAOW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAPd,EAQH,CAZQ,CAYN,CAAChB,eAAD,CAAkBG,MAAlB,CAZM,CAAT,CAcApB,SAAS,CAAC,UAAM,CACZkC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAkBf,MAAlB,EACAS,WAAW,CAACT,MAAD,CAAX,CACH,CAHQ,CAGN,CAACA,MAAD,CAHM,CAAT,CAKA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACH,CAFD,CAGA;AACA,mBACI,wCACI,KAAC,aAAD,EAAe,IAAI,CAAE,SAArB,EADJ,cAEI,KAAC,aAAD,EAAe,OAAO,CAAE,UAAYV,QAApC,EAFJ,cAGI,YAAK,SAAS,CAAC,WAAf,UAYK,CAACJ,OAAD,cACG,KAAC,cAAD,EACI,UAAU,CAAEF,QAAQ,CAACiB,MACrB;AACA;AACA;AACA;AACA;AACA;AAPJ,CAQI,OAAO,CAAE,kBAAM,CACd,MAAO,MAAP,CACA,CAVL,CAWI,SAAS,CAAC,KAXd,UAYKjB,QACG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdK,CAeJkB,GAfJ,CAeQ,SAAAC,CAAC,qBACF,KAAC,WAAD,EAAa,MAAM,CAAEA,CAArB,EADE,EAfT,CAZL,EADH,cAgCK,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,EADF,EA5CV,EAHJ,GADJ,CAuDH,CAED,cAAe1B,CAAAA,KAAf","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\nimport CategoriesNav from '../components/Categories/CategoriesNav'\r\nimport ProductCard from '../components/ProductCard/ProductCard';\r\nimport { Col, Spinner, Dropdown } from 'react-bootstrap';\r\nimport { getUserNfts } from '../services/productData';\r\nimport { BiSortDown, BiSort, BiDownArrowAlt, BiUpArrowAlt, BiSortUp } from 'react-icons/bi'\r\nimport '../components/Siders/SearchSider.css';\r\nimport '../components/Categories/Categories.css';\r\nimport '../components/ProductCard/ProductCard.css';\r\nimport CenterHeading from '../components/CenterHeading/CenterHeading';\r\n\r\nfunction Owned({ match }) {\r\n    let currentCategory = match.params.category;\r\n    let tempid = match.params.publicAddress;\r\n    const [products, setProduct] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [sort, setSort] = useState('lowerPrice');\r\n    const [userData, setUserData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        \r\n        if (!tempid) return;\r\n        getUserNfts(tempid, currentCategory)\r\n            .then(res => {\r\n                // console.log(\"params: \", match.params);\r\n                setProduct(res);\r\n                setLoading(false);\r\n                // setQuery(\"\");\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [currentCategory, tempid])\r\n\r\n    useEffect(() => {\r\n        console.log(\"id:\",tempid);\r\n        setUserData(tempid);\r\n    }, [tempid]);\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault()\r\n    }\r\n    // console.log(\"userData:\", userData);\r\n    return (\r\n        <>\r\n            <CenterHeading text={\"My Nfts\"} />\r\n            <CategoriesNav baseUrl={\"/owned/\" + userData} />\r\n            <div className=\"container\">\r\n                {/* <Dropdown id=\"dropdown-sort\">\r\n                    <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\">\r\n                        Sort <BiSort />\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={() => { setSort('oldest') }}>Oldest <BiDownArrowAlt /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('newest') }}>Newest <BiUpArrowAlt /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('lowerPrice') }}>Price <BiSortDown /></Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => { setSort('biggerPrice') }}>Price <BiSortUp /> </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown> */}\r\n                {!loading ?\r\n                    <InfiniteScroll\r\n                        dataLength={products.length}\r\n                        // next={() => {\r\n                        //         getLands()\r\n                        //             .then(res => {\r\n                        //                 setProduct([...products, ...res]);\r\n                        //             })\r\n                        // }}\r\n                        hasMore={() => {\r\n                         return false;\r\n                        }}\r\n                        className=\"row\">\r\n                        {products\r\n                            // .sort((a, b) => {\r\n                            //     // if (sort === \"oldest\") {\r\n                            //     //     return a.addedAt.localeCompare(b.addedAt)\r\n                            //     // }\r\n                            //     // if (sort === \"newest\") {\r\n                            //     //     return b.addedAt.localeCompare(a.addedAt)\r\n                            //     // }\r\n                            //     if (sort === \"lowerPrice\") {\r\n                            //         return b[2] - a[2]\r\n                            //     }\r\n                            //     if (sort === \"biggerPrice\") {\r\n                            //         return a[2] - b[2]\r\n                            //     }\r\n                            // })\r\n                            .map(x =>\r\n                                <ProductCard params={x} />\r\n                            )}\r\n                    </InfiniteScroll>\r\n                    : <div className=\"spinner\">\r\n                        <Spinner animation=\"border\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Owned;"]},"metadata":{},"sourceType":"module"}